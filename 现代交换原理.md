# 第一章 交换概论

## 什么是交换

* 无交换的多点间通信：
	* 全互连方式需要$C_n^2=N(N-1)/2$线对
	* 每个终端配置一个多路选择开关
	* 增加第 N+1 个中断操作复杂：增加 N 对线路、更换所有多路选择开关
* **交换（switching）**就是在通信网上，负责在通信的源和目的终端之间建立通信信道、传送通信信息的机制（控制）。
* 交换系统的构成：终端设备、传输设备、交换设备

### 三对基本概念

* 信息传送：面向连接工作方式（物理连接、逻辑连接）——无连接工作方式
* 时分复用：同步时分复用——统计（异步）时分复用
* 带宽分配：固定带宽分配——动态带宽分配

#### 信息传送

* 面向连接工作方式：连接建立——信息传送——连接释放

* 无连接工作方式：边寻址边传递讯息

#### 时分复用

* 同步时分复用：

	* 位置化信道：依据信号在时间轴上的位置来区分每一路信号（逻辑信道），无信息传送时也占用信道。
	* 每帧定长、子信道信息流速率恒定。

	e.g. 30/32路 PCM 系统

![C66C28E8-50F3-4849-9E0F-EA3B37CB01ED_1_102_o](现代交换原理.assets/C66C28E8-50F3-4849-9E0F-EA3B37CB01ED_1_102_o.jpeg)

* 统计（异步）时分复用：
	* 标志化信道：标志码表示哪路信息。
	* 分组长度可变或不可变，分组头用于定界。
	* 统计复用提高信道利用率。

#### 带宽分配

* 固定带宽分配
* 动态带宽分配

## 各种交换方式

CTM（Circuit Transfer Mode，电路传送模式）：电路交换，多速率电路交换

PTM（Packet ……，分组传送模式）：分组交换、帧中继

ATM（Asynchronous ……，异步传送模式）：MPLS、软交换、IMS

### 电路交换

* 电话通信中信息的传送方式：**公共交换电话网（Public Switched Telephone Network，PSTN）**

电路交换的特点

* 面向连接的工作方式（物理连接）
* 同步时分复用（固定带宽分配）
* 无差错控制机制
* 对通信信息不作处理（透明传输）
* 流量控制基于呼叫损失制

### 分组交换——存储转发

传输时延+存储时延+处理和排队时延

* 报文交换

* 分组交换：在报文交换存储转发的基础上使用分组减小时延
	* 虚电路（virtual circuit）：
		* 面向连接。
		* 使用**逻辑子信道（Logic Channel Number，LCN）**，在交换节点路由表上记录出入端口。
		* 应用：PSPDN 网络
	* 数据报：
		* 无连接。
		* 使用标示来区分数据报，可变速率。

分组交换的特点：

* 面向连接（逻辑连接）方式和无连接方式。
* 统计时分复用，动态分配带宽。
* 有差错控制机制。
* 对通信信息作处理。
* 流量控制基于呼叫延迟制。

|            | 虚电路             | 数据报                 |
| ---------- | ------------------ | ---------------------- |
| 分组头     | 简单（逻辑信道号） | 复杂（详细的选路信息） |
| 选路       | 虚连接表           | 每个分组独立选路       |
| 分组顺序   | 有序               | 可能失序               |
| 故障敏感性 | 敏感               | 可靠性高               |
| 应用       | 连续数据流         | 询问/响应              |

为什么数据通信网采用分组交换方式？

——可靠性要求高、可变速率的数据业务

## 交换系统基本结构

* 互联技术：交换网络的拓扑结构、选路策略、控制机理、多播方式、阻塞特性、故障防卫
* 接口技术：模拟用户接口、数字用户接口、模拟中继接口、数字中继接口
* 信令技术：用户信令、局间信令
* 控制技术：控制系统的结构方式、多处理机结构



# 第二章 交换网络

## 交换网络的构成

* 交换系统中，完成**交换**这一基本功能的部件就是**交换网络**或**交换结构（Switching Fabric）**。
* 交换网络是由若干**交换单元**按照一定的**拓扑结构**和**控制方式**构成的，交换单元是最基本部件。

## 交换单元

### 交换单元的基本概念

交换单元的分类：

①方向

* 有向交换单元：交换单元具有固定的入线与出线：
	* M$\times$N 有向交换单元
* 无向交换单元：每条线既可入也可出：
	* N 无向交换单元
	* K$\times$L 无向交换单元

②数量

* 集中型（M>N）、扩散型（M<N）、连接型（M=N）

③按出入线之间是否共享单一通路

* 空分交换单元（开关阵列）
* 时分交换单元（共享总线）

④信号

* 数字交换单元（DSE）
* 模拟交换单元

### 交换单元的基本特性

#### 交换单元的连接特性

* 交换单元连接特性的描述方式：
	* 集合描述方式
	* 函数描述方式（排列、图形、二进制函数）
* 常见的连接方式：
	* 直接连接
	* 交叉连接
	* 蝶式连接
	* 均匀洗牌连接
	* 间隔交叉连接

#### 交换单元的性能

* 容量：所有入线可以同时送入的总信息量
* 接口：信号形式、速率、信息流方向
* 功能：点到点、点到多点
* 质量：完成交换动作的速度、任何情况下是否能完成指定连接、信息经过交换单元是否有损伤（时间、语义）

### 开关阵列

在每条入线和每条出线直接都各自接上一个开关，构成开关阵列。

* 开关的位置：入、出线交叉点
* 开关的表示：$K_{ij}$（i 为入线，j 为出线）
* 开关的状态：通、断
* 开关的种类：单向、双向

实现：全连通交换单元、部分连通交换单元、多路选择器……

* 开关阵列的特性：
	* 容易实现广播功能
	* 从入线到出线具有均匀的单位延迟时间
	* 控制信号简单
	* 适合构成较小的交换单元（开关数反映了实现的复杂度和成本高低）
	* 交换单元的性能依赖于所使用的开关

* 实际的开关阵列：
	* 继电器
	* 模拟电子开关
	* 数字电子开关

### 空间（空分）交换单元

也叫**空间接线器（Space Switch）**，简称 S 单元或 S 接线器。

* 构成：
	* 交叉点矩阵（开关阵列）
	* 控制存储器（CM，Control Memory）
* 功能：输入输出线之间的空间交换
* S 接线器所含 CM 数量等于入（出）线数
* 每个 CM 含有的存储单元个数等于入（出）线上的复用时隙数
* 每个存储单元为 m 位 bit，且满足$N \le 2^m$，其中 N 为接线器的入（出）线数
* CM 具有输入控制方式与输出控制方式。
* 空间交换单元的基本特点：
	* 只完成空间交换，不进行时隙交换
	* 空间接线器按时分方式工作
	* 输<u>出</u>控制方式易于实现多播

### 时间（时分）交换单元

分为：共享存储器型交换单元、共享总线型交换单元。

共享存储器型：入线缓存控制读出、出线缓存控制写入

共享总线型：总线按照实习轮流分配给入线控制部件和出线控制部件使用

$kNV=B/T$（N 为入线数、V 为入线速率、B 为每时隙传送比特数、T 为时隙长度，k 为时隙分配因子）

















